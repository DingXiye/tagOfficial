
<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta http-equiv="Pragma" content="no-cache">
    <meta http-equiv="Cache-Control" content="no-cache">
    <meta http-equiv="Expires" content="0">
    <title>登录</title>
    <link href="login.css" rel="stylesheet" type="text/css" />
    <script src="../js/jquery-3.3.1.js"></script>
</head>

<body>
<div class="login_box">
    <div class="login_l_img"><img src="../images/login-img.png" /></div>
    <div class="login">
        <div class="login_logo"><a href="#"><img src="../images/login_logo.png" /></a></div>
        <div class="login_name">
            <p>登录</p>
        </div>
        <form method="post" id="form1" onsubmit="return false" action="#">
            <!--<input name="username" type="text"  value="用户名" onfocus="this.value=''" onblur="if(this.value==''){this.value='用户名'}">
            <span id="password_text" onclick="this.style.display='none';document.getElementById('password').style.display='block';document.getElementById('password').focus().select();" >密码</span>
            <input name="password" type="password" id="password" style="display:none;" onblur="if(this.value==''){document.getElementById('password_text').style.display='block';this.style.display='none'};"/>-->
            <input name="username" type="text"  placeholder="用户名">
            <input name="password" type="password" id="password" placeholder="密码"/>
            <input value="登录" style="width:100%;" type="submit" onclick="login()">
            <br>
            <a href="regist.html">注册</a>
        </form>
    </div>
</div>

<script type="text/javascript">
    function login() {
        //alert("hhhh");
        $.ajax({
            //几个参数需要注意一下
            type: "GET",//方法类型
            dataType: "json",//预期服务器返回的数据类型
            url: "http://localhost:8080/users/login" ,//url
            data: $('#form1').serialize(),
            beforeSend: function (xhr) {
                xhr.setRequestHeader('Authorization', 'Basic ' + btoa('admin:admin'));
            },
            success: function (result) {
                console.log(result);//打印服务端返回的数据(调试用)
                window.location.href='../index.html';
            },
            error : function() {
                alert("异常！");
            }
        });
    }
</script>
</body>
</html>
